(function(e){function t(t){for(var o,l,i=t[0],r=t[1],s=t[2],h=0,f=[];h<i.length;h++)l=i[h],Object.prototype.hasOwnProperty.call(u,l)&&u[l]&&f.push(u[l][0]),u[l]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==u[r]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},u={app:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-button",{on:{click:function(t){return e.go("/a")}}},[e._v("/a")]),n("el-button",{on:{click:function(t){return e.go("/b")}}},[e._v("/b")]),n("el-button",{on:{click:function(t){return e.go("/c")}}},[e._v("/c")]),n("el-button",{on:{click:function(t){return e.go("/d")}}},[e._v("/d")]),n("el-button",{on:{click:function(t){return e.go("/a?v=123")}}},[e._v("/a?v=123")]),n("el-button",{on:{click:function(t){return e.go("/b?v=123")}}},[e._v("/b?v=123")]),n("page-tabs",{attrs:{"keep-alive-component-instance":e.keepAliveComponentInstance}}),n("div",{ref:"keepAliveContainer"},[n("keep-alive",[n("router-view",{key:e.$route.fullPath})],1)],1),n("div",[e._v("dd")])],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__common-layout-pageTabs"},[n("el-scrollbar",[n("div",{staticClass:"__tabs"},e._l(e.openedPageRouters,(function(t){return n("div",{key:t.fullPath,staticClass:"__tab-item",class:{"__is-active":t.fullPath==e.$route.fullPath},on:{click:function(n){return e.onClick(t)},contextmenu:function(n){return n.preventDefault(),e.showContextMenu(n,t)}}},[e._v(" "+e._s(t.meta.title)+" "),n("span",{staticClass:"el-icon-close",style:e.openedPageRouters.length<=1?"width:0;":"",on:{click:function(n){return n.stopPropagation(),e.onClose(t)},contextmenu:function(e){e.preventDefault(),e.stopPropagation()}}})])})),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.contextMenuVisible,expression:"contextMenuVisible"}]},[n("ul",{staticClass:"__contextmenu",style:{left:e.contextMenuLeft+"px",top:e.contextMenuTop+"px"}},[n("li",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.reload()}}},[e._v(" 重新加载 ")])],1),n("li",[n("el-button",{attrs:{type:"text",disabled:!1,size:"mini"},on:{click:e.closeOtherLeft}},[e._v("关闭左边")])],1),n("li",[n("el-button",{attrs:{type:"text",disabled:!1,size:"mini"},on:{click:e.closeOtherRight}},[e._v("关闭右边")])],1),n("li",[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:e.closeOther}},[e._v("关闭其他")])],1)])])],1)},i=[],r=(n("7db0"),n("c975"),n("45fc"),n("a434"),n("b0c0"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0"),{props:{keepAliveComponentInstance:{},blankRouteName:{type:String,default:"blank"}},data:function(){return{contextMenuVisible:!1,contextMenuLeft:0,contextMenuTop:0,contextMenuTargetPageRoute:null,openedPageRouters:[]}},watch:{$route:{handler:function(e){this.openPage(e)},immediate:!0}},mounted:function(){window.addEventListener("click",this.closeContextMenu)},destroyed:function(){window.removeEventListener("click",this.closeContextMenu)},methods:{openPage:function(e){if(e.name!=this.blankRouteName){var t=this.openedPageRouters.some((function(t){return t.fullPath==e.fullPath}));if(!t){var n=this.openedPageRouters.find((function(t){return t.path==e.path}));e.meta.canMultipleOpen||null==n?this.openedPageRouters.push(e):(this.delRouteCache(n.fullPath),this.openedPageRouters.splice(this.openedPageRouters.indexOf(n),1,e))}}},onClick:function(e){e.fullPath!==this.$route.fullPath&&this.$router.push(e.fullPath)},onClose:function(e){var t=this.openedPageRouters.indexOf(e);this.delPageRoute(e),e.fullPath===this.$route.fullPath&&this.$router.replace(this.openedPageRouters[0==t?0:t-1])},showContextMenu:function(e,t){this.contextMenuTargetPageRoute=t,this.contextMenuLeft=e.layerX,this.contextMenuTop=e.layerY,this.contextMenuVisible=!0},closeContextMenu:function(){this.contextMenuVisible=!1,this.contextMenuTargetPageRoute=null},reload:function(){var e=this;this.delRouteCache(this.contextMenuTargetPageRoute.fullPath),this.contextMenuTargetPageRoute.fullPath===this.$route.fullPath&&this.$router.replace({name:this.blankRouteName}).then((function(){e.$router.replace(e.contextMenuTargetPageRoute)}))},closeOther:function(){for(var e=0;e<this.openedPageRouters.length;e++){var t=this.openedPageRouters[e];t!==this.contextMenuTargetPageRoute&&(this.delPageRoute(t),e--)}this.contextMenuTargetPageRoute.fullPath!=this.$route.fullPath&&this.$router.replace(this.contextMenuTargetPageRoute)},getPageRouteIndex:function(e){for(var t=0;t<this.openedPageRouters.length;t++)if(this.openedPageRouters[t].fullPath===e)return t},closeOtherLeft:function(){var e=this.openedPageRouters.indexOf(this.contextMenuTargetPageRoute),t=this.getPageRouteIndex(this.$route.fullPath);e>t&&this.$router.replace(this.contextMenuTargetPageRoute);for(var n=0;n<e;n++){var o=this.openedPageRouters[n];this.delPageRoute(o),n--,e--}},closeOtherRight:function(){for(var e=this.openedPageRouters.indexOf(this.contextMenuTargetPageRoute),t=this.getPageRouteIndex(this.$route.fullPath),n=e+1;n<this.openedPageRouters.length;n++){var o=this.openedPageRouters[n];this.delPageRoute(o),n--}e<t&&this.$router.replace(this.contextMenuTargetPageRoute)},delPageRoute:function(e){var t=this.openedPageRouters.indexOf(e);t>=0&&this.openedPageRouters.splice(t,1),this.delRouteCache(e.fullPath)},delRouteCache:function(e){for(var t=this.keepAliveComponentInstance.cache,n=this.keepAliveComponentInstance.keys,o=0;o<n.length;o++)if(n[o]==e){n.splice(o,1),null!=t[e]&&delete t[e];break}}}}),s=r,c=(n("e295"),n("2877")),h=Object(c["a"])(s,l,i,!1,null,null,null),f=h.exports,p={name:"App",components:{pageTabs:f},mounted:function(){this.$refs.keepAliveContainer&&(this.keepAliveComponentInstance=this.$refs.keepAliveContainer.childNodes[0].__vue__)},data:function(){return{keepAliveComponentInstance:null}},methods:{go:function(e){e!=this.$route.fullPath&&this.$router.push(e)}}},d=p,v=(n("034f"),Object(c["a"])(d,u,a,!1,null,null,null)),g=v.exports,P=n("8c4f"),b=n("5c96"),m=n.n(b),x=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("A:"+e._s(e.$route.fullPath)),n("el-input",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),_=[],R={data:function(){return{value:""}}},k=R,M=Object(c["a"])(k,x,_,!1,null,null,null),y=M.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("B:"+e._s(e.$route.fullPath))])},O=[],C={},w=Object(c["a"])(C,$,O,!1,null,null,null),T=w.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("C:"+e._s(e.$route.fullPath))])},A=[],I={},E=Object(c["a"])(I,j,A,!1,null,null,null),L=E.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("D:"+e._s(e.$route.fullPath))])},N=[],V={},z=Object(c["a"])(V,S,N,!1,null,null,null),D=z.exports;o["default"].config.productionTip=!1,o["default"].use(P["a"]),o["default"].use(m.a);var B=new P["a"]({routes:[{name:"blank",path:"/blank"},{path:"",meta:{title:"首页"}},{path:"/a",component:y,meta:{title:"A页面",canMultipleOpen:!0}},{path:"/b",component:T,meta:{title:"B页面"}},{path:"/c",component:L,meta:{title:"C页面"}},{path:"/d",component:D,meta:{title:"D页面"}}]});new o["default"]({router:B,render:function(e){return e(g)}}).$mount("#app")},7429:function(e,t,n){},"85ec":function(e,t,n){},e295:function(e,t,n){"use strict";n("7429")}});
//# sourceMappingURL=app.ff9b088a.js.map